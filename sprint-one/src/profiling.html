<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf8">
  <title>
    Profiling Stacks and Queues
  </title>
  <script src="../../lib/underscore/underscore.js"></script>
</head>
<body>

  <script src="functional/stack.js"></script>
  <script src="functional/queue.js"></script>
  <script>
    var numToMake = 100000;
    var numTimesToTest = 100;


    function instantiatingFunctionalStacks() {
      var functionalStacks = [];
      for (var i = 0; i < numToMake; i++) {
        functionalStacks.push(Stack());
      }
      return functionalStacks;
    }

    function instantiatingFunctionalQueues(){
      var functionalQueues = [];
      for (var i = 0; i < numToMake; i++) {
        functionalQueues.push(Queue());
      }
      return functionalQueues;
    }

    var functionalStacks = instantiatingFunctionalStacks();
    var functionalQueues = instantiatingFunctionalQueues();

  </script>
  <script src="functional-shared/stack.js"></script>
  <script src="functional-shared/queue.js"></script>
  <script>
    function instantiatingFunctionalSharedStacks() {
      var functionalSharedStacks = [];
      for (var i = 0; i < numToMake; i++) {
        functionalSharedStacks.push(Stack());
      }
      return functionalSharedStacks;
    }
    function instantiatingFunctionalSharedQueues() {
      var functionalSharedQueues = [];
      for (var i = 0; i < numToMake; i++) {
        functionalSharedQueues.push(Queue());
      }
      return functionalSharedQueues;
    }

    var functionalSharedQueues = instantiatingFunctionalSharedQueues();
    var functionalSharedStacks = instantiatingFunctionalSharedStacks();

  </script>
  <script src="pseudoclassical/stack.js"></script>
  <script src="pseudoclassical/queue.js"></script>
  <script>
    function instantiatingPseudoclassicalStacks() {
      var pseudoclassicalStacks = [];
      for (var i = 0; i < numToMake; i++) {
        pseudoclassicalStacks.push(new Stack());
      }
      return pseudoclassicalStacks;
    }

    function instantiatingPseudoclassicalQueues() {
      var pseudoclassicalQueues = [];
      for (var i = 0; i < numToMake; i++) {
        pseudoclassicalQueues.push(new Queue());
      }
      return pseudoclassicalQueues;
    }

    var pseudoclassicalStacks = instantiatingPseudoclassicalStacks();
    var pseudoclassicalQueues = instantiatingPseudoclassicalQueues();

  </script>
  <script src="prototypal/stack.js"></script>
  <script src="prototypal/queue.js"></script>
  <script>
    function instantiatingPrototypalStacks() {
      var prototypalStacks = [];
      for (var i = 0; i < numToMake; i++) {
        prototypalStacks.push(Stack());
      }
      return prototypalStacks;
    }

    function instantiatingPrototypalQueues() {
      var prototypalQueues = [];
      for (var i = 0; i < numToMake; i++) {
        prototypalQueues.push(Queue());
      }
      return prototypalQueues;
    }

    var prototypalStacks = instantiatingPrototypalStacks();
    var prototypalQueues = instantiatingPrototypalQueues();

  </script>
  <script>
    function pushTest(stack) {
      for(var i=numTimesToTest; i > 0; i--) {
        stack.push(i);
      }
    }

    function popTest(stack) {
      for(var i=numTimesToTest; i > 0; i--) {
        stack.pop();
      }
    }

    function sizeTest(obj) {
      for(var i=numTimesToTest; i > 0; i--) {
        obj.size();
      }
    }

    function enqueueTest(queue) {
      for(var i=numTimesToTest; i > 0; i--) {
        queue.enqueue(i);
      }
    }

    function dequeueTest(queue) {
      for(var i=numTimesToTest; i > 0; i--) {
        queue.dequeue();
      }
    }

    // _.each(functionalStacks, pushTest);
    // _.each(functionalSharedStacks, pushTest);
    // _.each(prototypalStacks, pushTest);
    // _.each(pseudoclassicalStacks, pushTest);

    // _.each(functionalStacks, popTest);
    // _.each(functionalSharedStacks, popTest);
    // _.each(prototypalStacks, popTest);
    // _.each(pseudoclassicalStacks, popTest);

    _.each(functionalQueues, enqueueTest);
    _.each(functionalSharedQueues, enqueueTest);
    _.each(prototypalQueues, enqueueTest);
    _.each(pseudoclassicalQueues, enqueueTest);

    _.each(functionalQueues, dequeueTest);
    _.each(functionalSharedQueues, dequeueTest);
    _.each(prototypalQueues, dequeueTest);
    _.each(pseudoclassicalQueues, dequeueTest);


  </script>
</body>
</html>
<!--
creating time  functional     functional-shared      prototypal       pseudoclassical
                 stack: 108.8   stack: 67.4            stack: 2.7       stack: 0.5
                 queue: 125.7   queue: 62.3            queue: 3.0       queue: 0.7

PUSH TIME        stack: 386     stack: 404.4           stack: 311.8     stack: 323.4

POP TIME         stack: 1176.0  stack: 1051.7          stack: 1136.9    stack: 1109.5
-->

